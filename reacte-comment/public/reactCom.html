<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="stylesheets/base.css"/>
    <script src="./javascripts/build/jquery.min.js"></script>
    <script src="./javascripts/build/react.js"></script>
    <script src="./javascripts/build/react-dom.js"></script>
    <script src="./javascripts/build/browser.min.js"></script>
</head>

<body>
    <div id="content"></div>
    <script type="text/babel">
        var CommentForm = React.createClass({
            handelSubmit: function(e){
                e.preventDefault();
                var title = this.refs.title.value.trim();
                var text = this.refs.text.value.trim();
                if(!text || !title){
                    return;
                }
                this
            }
        });
        var Comment = React.createClass({
            itemClick: function(){
                this.props.handleClick(this.props);
            },
            render: function(){
                return (
                <div className="comment" onClick={this.itemClick}>
                            <h2 className="commentTitle">
                                {this.props.title}
                            </h2>
                            <span>{this.props.children.toString()}</span>
                        </div>
                );
            }
        });
        var CommentList = React.createClass({
            handleClick: function(comment) {
                console.log(this.test);
                console.log(comment);
            },
            test: "hhhhh",
            render: function(){
                var commentNodes = this.props.comments.map(function(comment){
                    return(
                        <Comment handleClick={this.handleClick} title={comment.title} key={comment.id} isShow={comment.isShow}>
                            {comment.text}
                        </Comment>
                    );
                },this);

                return(
                    <div className="commentList">
                        {commentNodes}
                    </div>
                );
            }
        });
        var comments = [{
            id: "10001",
            title: "前端",
            text:"React",
            isShow: true
        },{
            id: "10002",
            title: "后端",
            text: "java",
            isShow: true
        }];
        ReactDOM.render(
            <CommentList comments={comments}></CommentList>,
            document.getElementById("content")
        );
    </script>
</body>

</html>